<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>英翻中測驗</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="test-common.css">
</head>
<body>
    <div class="test-container">
        <div class="action-bar">
            <button class="action-btn submit-btn" id="submit-btn">
                <svg viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"/></svg>
                提交
            </button>
            <button class="action-btn refresh-btn" id="refresh-btn">
                <svg viewBox="0 0 24 24"><path d="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"/></svg>
                重整
            </button>
        </div>

        <div class="result-panel" id="result-panel" style="display: none;">
            <div class="result-content">
                <div class="result-icon"></div>
                <div class="result-text"></div>
                <div class="result-score"></div>
            </div>
        </div>

        <div id="cards-grid">
            <!-- Accordion will be generated here -->
        </div>
    </div>

    <template id="en2zh-card-template">
        <div class="test-card">
            <div class="card-header">
                <span class="word-label">ENGLISH</span>
                <span class="word-pos"></span>
            </div>
            <div class="card-word"></div>
            <div class="input-wrapper">
                <input type="text" class="answer-input" placeholder="請輸入中文翻譯">
                <div class="feedback"></div>
            </div>
        </div>
    </template>

    <script src="test-common.js"></script>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const dataFile = urlParams.get('file') || 'vocabGroupsRaw.json';
        
        initTestPage(dataFile, 'en2zh');
    </script>
</body>
</html>
